"use strict";(self.webpackChunkwaku_guide=self.webpackChunkwaku_guide||[]).push([[997],{4865:(e,n,r)=>{r.d(n,{A:()=>p});var s=r(96540),t=r(34164),i=r(23104),l=r(47751),o=r(92303);const a={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var d=r(74848);function c({className:e,block:n,selectedValue:r,selectValue:s,tabValues:l}){const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),u=e=>{const n=e.currentTarget,t=o.indexOf(n),i=l[t].value;i!==r&&(c(n),s(i))},h=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const r=o.indexOf(e.currentTarget)+1;n=o[r]??o[0];break}case"ArrowLeft":{const r=o.indexOf(e.currentTarget)-1;n=o[r]??o[o.length-1];break}}n?.focus()};return(0,d.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},e),children:l.map(({value:e,label:n,attributes:s})=>(0,d.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{o.push(e)},onKeyDown:h,onClick:u,...s,className:(0,t.A)("tabs__item",a.tabItem,s?.className,{"tabs__item--active":r===e}),children:n??e},e))})}function u({lazy:e,children:n,selectedValue:r}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find(e=>e.props.value===r);return e?(0,s.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,d.jsx)("div",{className:"margin-top--md",children:i.map((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==r}))})}function h(e){const n=(0,l.u)(e);return(0,d.jsxs)("div",{className:(0,t.A)("tabs-container",a.tabList),children:[(0,d.jsx)(c,{...n,...e}),(0,d.jsx)(u,{...n,...e})]})}function p(e){const n=(0,o.default)();return(0,d.jsx)(h,{...e,children:(0,l.v)(e.children)},String(n))}},19365:(e,n,r)=>{r.d(n,{A:()=>l});r(96540);var s=r(34164);const t={tabItem:"tabItem_Ymn6"};var i=r(74848);function l({children:e,hidden:n,className:r}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,s.A)(t.tabItem,r),hidden:n,children:e})}},20581:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"run-node/build-source","title":"Build Nwaku from Source","description":"This guide provides detailed steps to build a nwaku node from the source code to access the latest development version or a specific commit or release of nwaku. For your convenience, you may want to download a pre-compiled binary instead.","source":"@site/docs/run-node/build-source.md","sourceDirName":"run-node","slug":"/run-node/build-source","permalink":"/run-node/build-source","draft":false,"unlisted":false,"editUrl":"https://github.com/waku-org/docs.waku.org/tree/develop/docs/run-node/build-source.md","tags":[],"version":"current","lastUpdatedAt":null,"frontMatter":{"title":"Build Nwaku from Source","hide_table_of_contents":true,"displayed_sidebar":"runNode"},"sidebar":"runNode","previous":{"title":"Run Nwaku in a Docker Container","permalink":"/run-node/run-docker"},"next":{"title":"Configure Peer Discovery","permalink":"/run-node/configure-discovery"}}');var t=r(74848),i=r(28453),l=r(4865),o=r(19365);const a={title:"Build Nwaku from Source",hide_table_of_contents:!0,displayed_sidebar:"runNode"},d=void 0,c={},u=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Clone the repository",id:"clone-the-repository",level:2},{value:"Build the binary",id:"build-the-binary",level:2},{value:"Run the binary",id:"run-the-binary",level:2},{value:"Run test suite",id:"run-test-suite",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["This guide provides detailed steps to build a ",(0,t.jsx)(n.code,{children:"nwaku"})," node from the source code to access the latest development version or a specific commit or release of ",(0,t.jsx)(n.code,{children:"nwaku"}),". For your convenience, you may want to ",(0,t.jsx)(n.a,{href:"https://github.com/waku-org/nwaku/tags",children:"download a pre-compiled binary"})," instead."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A minimum of 2GB of RAM is required to build ",(0,t.jsx)(n.code,{children:"nwaku"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Nwaku is available for Linux and macOS, with experimental Windows support."}),"\n"]})}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.p,{children:["To build ",(0,t.jsx)(n.code,{children:"nwaku"}),", you need the standard developer tools, including a C compiler, GNU Make, Bash, Git, Rustup, and PostgreSQL client library."]}),"\n","\n",(0,t.jsxs)(l.A,{children:[(0,t.jsx)(o.A,{value:"debian",label:"Debian and Ubuntu",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"sudo apt-get install build-essential git libpq5 jq\ncurl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\nsource \"$HOME/.cargo/env\"\n"})})}),(0,t.jsx)(o.A,{value:"fedora",label:"Fedora",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"sudo dnf install @development-tools git libpq-devel which\ncurl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n"})})}),(0,t.jsx)(o.A,{value:"arch",label:"Arch Linux",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"# Using your favoured AUR helper\nsudo [AUR HELPER] -S base-devel git postgresql-libs\ncurl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n"})})}),(0,t.jsx)(o.A,{value:"mac",label:"MacOS (Homebrew)",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"brew install cmake git postgresql@15 rustup-init\n# Create a symbolic link to libpq.5.dylib in /usr/local/lib/\nsudo mkdir -p /usr/local/lib/\nsudo ln -s /opt/homebrew/opt/postgresql@15/lib/libpq.5.dylib /usr/local/lib/libpq.dylib\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"clone-the-repository",children:"Clone the repository"}),"\n",(0,t.jsxs)(n.p,{children:["Get the source code from the GitHub repository. The default branch is ",(0,t.jsx)(n.code,{children:"master"}),", the release candidate for major updates."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"git clone https://github.com/waku-org/nwaku\ncd nwaku\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["You can use ",(0,t.jsx)(n.code,{children:"git tag -l"})," to check specific version tags."]})}),"\n",(0,t.jsx)(n.h2,{id:"build-the-binary",children:"Build the binary"}),"\n",(0,t.jsxs)(n.p,{children:["Build the ",(0,t.jsx)(n.code,{children:"nwaku"})," binary:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"make wakunode2\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The first ",(0,t.jsx)(n.code,{children:"make"})," invocation updates to all Git submodules. After each ",(0,t.jsx)(n.code,{children:"git pull"}),", run ",(0,t.jsx)(n.code,{children:"make update"})," to keep the submodules updated in the future."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"make update\n"})}),"\n",(0,t.jsx)(n.h2,{id:"run-the-binary",children:"Run the binary"}),"\n",(0,t.jsxs)(n.p,{children:["Nwaku will create the ",(0,t.jsx)(n.code,{children:"wakunode2"})," binary in the ",(0,t.jsx)(n.code,{children:"./build/"})," directory."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"# Run with default configuration\n./build/wakunode2\n\n# See available command line options\n./build/wakunode2 --help\n"})}),"\n",(0,t.jsx)(n.p,{children:"To learn more about running nwaku, have a look at these guides:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/run-node/",children:"Run a Nwaku Node"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/run-node/run-docker",children:"Run Nwaku in a Docker Container"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/run-node/run-docker-compose",children:"Run Nwaku with Docker Compose"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/run-node/config-methods",children:"Node Configuration Methods"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"run-test-suite",children:"Run test suite"}),"\n",(0,t.jsx)(n.p,{children:"Run the tests for Waku:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"make test\n"})}),"\n",(0,t.jsx)(n.admonition,{title:"Congratulations!",type:"tip",children:(0,t.jsxs)(n.p,{children:["You have successfully built the ",(0,t.jsx)(n.code,{children:"nwaku"})," binary from the source code. Have a look at the ",(0,t.jsx)(n.a,{href:"/run-node/configure-nwaku",children:"Node Configuration Examples"})," guide to learn how to configure ",(0,t.jsx)(n.code,{children:"nwaku"})," for different use cases."]})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>o});var s=r(96540);const t={},i=s.createContext(t);function l(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);