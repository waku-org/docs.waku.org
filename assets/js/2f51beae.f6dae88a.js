"use strict";(self.webpackChunkwaku_guide=self.webpackChunkwaku_guide||[]).push([[4448],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>c});var s=i(96540);const r={},o=s.createContext(r);function t(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(o.Provider,{value:n},e.children)}},83039:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>p});const s=JSON.parse('{"id":"learn/concepts/discv5","title":"Discv5","description":"Discv5 is a decentralised and efficient peer discovery mechanism for the Waku Network. It uses a Distributed Hash Table (DHT) for storing ENR records, providing resistance to censorship. Discv5 offers a global view of participating nodes, enabling random sampling for load distribution. It uses bootstrap nodes as an entry point to the network, providing randomised sets of nodes for mesh expansion. Have a look at the Discv5 specification to learn more.","source":"@site/docs/learn/concepts/discv5.md","sourceDirName":"learn/concepts","slug":"/learn/concepts/discv5","permalink":"/learn/concepts/discv5","draft":false,"unlisted":false,"editUrl":"https://github.com/waku-org/docs.waku.org/tree/develop/docs/learn/concepts/discv5.md","tags":[],"version":"current","lastUpdatedAt":null,"frontMatter":{"title":"Discv5","hide_table_of_contents":true},"sidebar":"learn","previous":{"title":"DNS Discovery","permalink":"/learn/concepts/dns-discovery"},"next":{"title":"Peer Exchange","permalink":"/learn/concepts/peer-exchange"}}');var r=i(74848),o=i(28453);function t(e){const n={li:"li",mermaid:"mermaid",ol:"ol",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    Alice->>DNS Server: (1) Execute DNS Discovery\n    DNS Server--\x3e>Alice: (2) Bob's connection details (UDP + TCP)\n    activate Alice\n    Alice->>Bob: (3) Execute Discv5 over UDP\n    Bob--\x3e>Alice: (4) ENRs (UDP + TCP): Carol, David, Erin\n    Alice->>Alice: (5) Decode ENRs\n    Alice->>Carol: (6) Execute Discv5 over UDP\n    Carol--\x3e>Alice: (7) ENRs (UDP + TCP): Frank, Gwen, Harry\n    Alice->>Alice: (8) Decode ENRs\n    deactivate Alice\n    Alice->>Alice: (9) Select peers to dial\n    Alice->>David: (10) Libp2p dial (TCP)\n    Alice->>Frank: (10) Libp2p dial (TCP)\n    Alice->>Gwen: (10) Libp2p dial (TCP)"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"DNS Discovery protocol is executed."}),"\n",(0,r.jsx)(n.li,{children:"Alice retrieves Bob's ENR (Ethereum Node Record) from DNS Server."}),"\n",(0,r.jsx)(n.li,{children:"Alice executes the Discv5 protocol with Bob using UDP connection details from ENR."}),"\n",(0,r.jsx)(n.li,{children:"Bob returns Carol's, David's and Erin's ENRs to Alice."}),"\n",(0,r.jsx)(n.li,{children:"Alice decodes ENRs and extracts the details of Carol, David, and Erin's TCP and UDP connections."}),"\n",(0,r.jsx)(n.li,{children:"Alice executes the Discv5 protocol with Carol using UDP connection details from ENR."}),"\n",(0,r.jsx)(n.li,{children:"Carol returns Frank's, Gwen's and Harry's ENRs to Alice."}),"\n",(0,r.jsx)(n.li,{children:"Alice decodes ENRs and extracts Frank's, Gwen's and Harry's TCP and UDP connection details."}),"\n",(0,r.jsx)(n.li,{children:"Alice selects to dial David, Frank and Gwen."}),"\n",(0,r.jsx)(n.li,{children:"Alice dials David, Frank and Gwen over libp2p using TCP connection details from ENRs."}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}const a={title:"Discv5",hide_table_of_contents:!0},l=void 0,d={},p=[{value:"Pros",id:"pros",level:4},{value:"Cons",id:"cons",level:4},{value:"Overview",id:"overview",level:2}];function h(e){const n={a:"a",code:"code",h2:"h2",h4:"h4",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Discv5"})," is a decentralised and efficient peer discovery mechanism for the Waku Network. It uses a ",(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Distributed_hash_table",children:"Distributed Hash Table (DHT)"})," for storing ",(0,r.jsx)(n.code,{children:"ENR"})," records, providing resistance to censorship. ",(0,r.jsx)(n.code,{children:"Discv5"})," offers a global view of participating nodes, enabling random sampling for load distribution. It uses bootstrap nodes as an entry point to the network, providing randomised sets of nodes for mesh expansion. Have a look at the ",(0,r.jsx)(n.a,{href:"https://rfc.vac.dev/waku/standards/core/33/discv5",children:"Discv5"})," specification to learn more."]}),"\n",(0,r.jsx)(n.h4,{id:"pros",children:"Pros"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Decentralised with random sampling from a global view."}),"\n",(0,r.jsx)(n.li,{children:"Continuously researched and improved."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"cons",children:"Cons"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Requires lots of connections and involves frequent churn."}),"\n",(0,r.jsx)(n.li,{children:"Relies on User Datagram Protocol (UDP), which is not supported in web browsers."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n","\n",(0,r.jsx)(c,{})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);